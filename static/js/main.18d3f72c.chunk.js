(this["webpackJsonplottery-react"]=this["webpackJsonplottery-react"]||[]).push([[0],{110:function(t,e,n){},221:function(t,e,n){},234:function(t,e){},243:function(t,e){},261:function(t,e){},263:function(t,e){},283:function(t,e){},284:function(t,e){},345:function(t,e){},347:function(t,e){},380:function(t,e){},382:function(t,e){},383:function(t,e){},388:function(t,e){},390:function(t,e){},396:function(t,e){},398:function(t,e){},411:function(t,e){},423:function(t,e){},426:function(t,e){},431:function(t,e){},439:function(t,e){},448:function(t,e){},450:function(t,e){},520:function(t,e,n){"use strict";n.r(e);var a=n(16),c=n.n(a),r=n(210),s=n.n(r),i=(n(221),n(14)),u=n.n(i),o=n(53),l=n(32),p=(n(110),n(211)),h=n.n(p),b=n(9);var f=function(){window.ethereum.send("eth_requestAccounts");var t=new h.a(window.ethereum),e=new t.eth.Contract([{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pickWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"enter",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"players",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],"0x3A5dA4d832494D904caEb68473D3974d6001fbCC"),n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),p=Object(l.a)(i,2),f=p[0],j=p[1],d=Object(a.useState)(""),y=Object(l.a)(d,2),m=y[0],O=y[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],w=v[1],k=Object(a.useState)(""),M=Object(l.a)(k,2),A=M[0],S=M[1];Object(a.useEffect)((function(){(function(){var n=Object(o.a)(u.a.mark((function n(){var a,c,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.methods.manager().call();case 2:return a=n.sent,n.next=5,e.methods.getPlayers().call();case 5:return c=n.sent,n.next=8,t.eth.getBalance(e.options.address);case 8:r=n.sent,s(a),j(c),O(r);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);var C=function(){var n=Object(o.a)(u.a.mark((function n(a){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,t.eth.getAccounts();case 3:return c=n.sent,S("Waiting on transaction success..."),n.next=7,e.methods.enter().send({from:c[0],value:t.utils.toWei(g,"ether")});case 7:S("You have been entered!");case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),E=function(){var n=Object(o.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.eth.getAccounts();case 2:return a=n.sent,S("Waiting on transaction success..."),n.next=6,e.methods.pickWinner().send({from:a[0]});case 6:S("A winner has been picked!");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Lottery Project"}),Object(b.jsxs)("h4",{children:["Managed by ",Object(b.jsxs)("span",{className:"highlight",children:[" ",r]})]}),Object(b.jsxs)("p",{children:["There are currently ",f.length," people entered the lottery and total amount in Lottery is ",t.utils.fromWei(m,"ether")," ETHER!"]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Try Your Luck"}),Object(b.jsxs)("form",{className:"",onSubmit:C,children:[Object(b.jsx)("label",{htmlFor:"",children:"Amount of ether (0.1+) :"}),Object(b.jsx)("input",{style:{margin:"10px",marginTop:"1vh"},value:g,type:"text",onChange:function(t){return w(t.target.value)}}),Object(b.jsx)("button",{style:{margin:"10px",marginTop:"1vh"},children:"Enter"})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Ready to pick a winner?"}),Object(b.jsx)("button",{onClick:E,children:"Pick a winner!"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:A})]})},j=n(214),d=n.n(j);var y=function(){var t=Object(a.useState)(!1),e=Object(l.a)(t,2),n=e[0],c=e[1];return Object(a.useEffect)((function(){(function(){var t=Object(o.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()();case 2:(e=t.sent)?(c(!0),console.log(e)):console.log("Please install MetaMask!");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[c]),Object(b.jsxs)("div",{className:"App",children:[!n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Use Browser with Metamask or anyother wallet"}),Object(b.jsxs)("p",{children:["Install metamask ",Object(b.jsx)("a",{href:"https://metamask.io/",children:"here"})," "]})]}),n&&Object(b.jsx)(f,{})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,524)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),m()}},[[520,1,2]]]);
//# sourceMappingURL=main.18d3f72c.chunk.js.map